---
title: "List Transfers"
description: "List all on-chain transfers with pagination and filtering."
api: "GET https://api.bipa.app/v1/onchain/transfers"
---

## Request

Retrieve a paginated list of on-chain transfers.

### Query parameters

<ParamField query="limit" type="integer" default="20">
  Number of transfers to return (1-100)
</ParamField>

<ParamField query="starting_after" type="string">
  Cursor for pagination. Use the `id` of the last transfer.
</ParamField>

<ParamField query="ending_before" type="string">
  Cursor for reverse pagination.
</ParamField>

<ParamField query="customer_id" type="string">
  Filter by customer
</ParamField>

<ParamField query="type" type="string">
  Filter by type: `deposit` or `withdrawal`
</ParamField>

<ParamField query="asset" type="string">
  Filter by asset: `USDT` or `BTC`
</ParamField>

<ParamField query="network" type="string">
  Filter by network
</ParamField>

<ParamField query="status" type="string">
  Filter by status: `pending`, `processing`, `confirmed`, `failed`
</ParamField>

<ParamField query="created_after" type="string">
  Filter transfers created after this ISO 8601 timestamp
</ParamField>

<ParamField query="created_before" type="string">
  Filter transfers created before this ISO 8601 timestamp
</ParamField>

## Response

<ResponseField name="object" type="string">
  Always `list`
</ResponseField>

<ResponseField name="data" type="array">
  Array of transfer objects
</ResponseField>

<ResponseField name="has_more" type="boolean">
  Whether more results exist
</ResponseField>

<ResponseField name="total_count" type="integer">
  Total number of transfers matching filters
</ResponseField>

<RequestExample>
```bash cURL
# List all transfers
curl "https://api.bipa.app/v1/onchain/transfers?limit=20" \
  -H "Authorization: Bearer sk_live_..."

# Filter by customer and type
curl "https://api.bipa.app/v1/onchain/transfers?customer_id=cus_abc123&type=deposit" \
  -H "Authorization: Bearer sk_live_..."

# Filter by asset and status
curl "https://api.bipa.app/v1/onchain/transfers?asset=USDT&status=confirmed" \
  -H "Authorization: Bearer sk_live_..."
```

```python Python
import requests

# List all pending deposits
response = requests.get(
    "https://api.bipa.app/v1/onchain/transfers",
    headers={"Authorization": "Bearer sk_live_..."},
    params={
        "type": "deposit",
        "status": "processing",
        "limit": 50
    }
)

result = response.json()
print(f"Found {result['total_count']} pending deposits")

for transfer in result["data"]:
    print(f"  {transfer['id']}: {transfer['amount']} {transfer['asset']} "
          f"({transfer['confirmations']}/{transfer['confirmations_required']})")
```

```javascript Node.js
// List confirmed withdrawals this month
const startOfMonth = new Date();
startOfMonth.setDate(1);
startOfMonth.setHours(0, 0, 0, 0);

const params = new URLSearchParams({
  type: "withdrawal",
  status: "confirmed",
  created_after: startOfMonth.toISOString(),
  limit: "100"
});

const response = await fetch(
  `https://api.bipa.app/v1/onchain/transfers?${params}`,
  {
    headers: { "Authorization": "Bearer sk_live_..." }
  }
);

const { data: transfers, total_count } = await response.json();
console.log(`${total_count} withdrawals this month`);
```
</RequestExample>

<ResponseExample>
```json 200 OK
{
  "object": "list",
  "data": [
    {
      "id": "txn_abc123",
      "customer_id": "cus_a1b2c3d4e5f6",
      "type": "deposit",
      "asset": "USDT",
      "network": "polygon",
      "amount": "100.00",
      "fee": "0.00",
      "status": "confirmed",
      "address": "0x1234567890abcdef1234567890abcdef12345678",
      "tx_hash": "0xabcdef...",
      "confirmations": 128,
      "confirmations_required": 128,
      "created_at": "2024-01-15T10:30:00Z",
      "confirmed_at": "2024-01-15T10:35:00Z"
    },
    {
      "id": "wd_xyz789",
      "customer_id": "cus_a1b2c3d4e5f6",
      "type": "withdrawal",
      "asset": "BTC",
      "network": "bitcoin",
      "amount": "0.01000000",
      "fee": "0.00005000",
      "status": "confirmed",
      "destination_address": "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",
      "tx_hash": "abc123def...",
      "confirmations": 6,
      "confirmations_required": 3,
      "created_at": "2024-01-14T15:00:00Z",
      "confirmed_at": "2024-01-14T16:00:00Z"
    }
  ],
  "has_more": true,
  "total_count": 89
}
```
</ResponseExample>

## Analytics example

Calculate total deposit and withdrawal volumes:

```python
from collections import defaultdict

def get_transfer_summary(customer_id: str = None, days: int = 30):
    """Get transfer volume summary."""

    from datetime import datetime, timedelta
    created_after = (datetime.now() - timedelta(days=days)).isoformat() + "Z"

    transfers = []
    starting_after = None

    # Fetch all transfers
    while True:
        params = {
            "status": "confirmed",
            "created_after": created_after,
            "limit": 100
        }
        if customer_id:
            params["customer_id"] = customer_id
        if starting_after:
            params["starting_after"] = starting_after

        response = requests.get(
            "https://api.bipa.app/v1/onchain/transfers",
            headers={"Authorization": "Bearer sk_live_..."},
            params=params
        ).json()

        transfers.extend(response["data"])

        if not response["has_more"]:
            break
        starting_after = response["data"][-1]["id"]

    # Aggregate by type and asset
    summary = defaultdict(lambda: defaultdict(float))

    for transfer in transfers:
        asset = transfer["asset"]
        transfer_type = transfer["type"]
        amount = float(transfer["amount"])

        summary[asset][f"{transfer_type}_volume"] += amount
        summary[asset][f"{transfer_type}_count"] += 1

        if transfer_type == "withdrawal":
            summary[asset]["total_fees"] += float(transfer.get("fee", 0))

    return dict(summary)

# Generate report
summary = get_transfer_summary(days=30)
for asset, stats in summary.items():
    print(f"\n{asset}:")
    print(f"  Deposits: {stats.get('deposit_count', 0):.0f} ({stats.get('deposit_volume', 0):.8f})")
    print(f"  Withdrawals: {stats.get('withdrawal_count', 0):.0f} ({stats.get('withdrawal_volume', 0):.8f})")
    print(f"  Withdrawal fees: {stats.get('total_fees', 0):.8f}")
```

