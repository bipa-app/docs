---
title: "List Transfers"
description: "List all on-chain transfers with pagination and filtering."
api: "GET https://api.bipa.tech/v1/onchain/transfers"
---

## Request

Retrieve a paginated list of on-chain transfers.

### Query parameters

<ParamField query="limit" type="integer" default="20">
  Number of transfers to return (1-100)
</ParamField>

<ParamField query="starting_after" type="string">
  Cursor for pagination. Use the `id` of the last transfer.
</ParamField>

<ParamField query="ending_before" type="string">
  Cursor for reverse pagination.
</ParamField>

<ParamField query="customer_id" type="string">
  Filter by customer
</ParamField>

<ParamField query="direction" type="string">
  Filter by direction: `inbound` or `outbound`
</ParamField>

<ParamField query="asset" type="string">
  Filter by asset: `USDT` or `BTC`
</ParamField>

<ParamField query="network" type="string">
  Filter by network
</ParamField>

<ParamField query="status" type="string">
  Filter by status: `pending`, `processing`, `confirmed`, `failed`
</ParamField>

<ParamField query="created_after" type="string">
  Filter transfers created after this ISO 8601 timestamp
</ParamField>

<ParamField query="created_before" type="string">
  Filter transfers created before this ISO 8601 timestamp
</ParamField>

## Response

<ResponseField name="object" type="string">
  Always `list`
</ResponseField>

<ResponseField name="data" type="array">
  Array of transfer objects
</ResponseField>

<ResponseField name="has_more" type="boolean">
  Whether more results exist
</ResponseField>

<ResponseField name="total_count" type="integer">
  Total number of transfers matching filters
</ResponseField>

<RequestExample>
```bash cURL
# List all transfers
curl "https://api.bipa.tech/v1/onchain/transfers?limit=20" \
  -H "X-API-Key: bipa_prod_..."

# Filter by customer and direction
curl "https://api.bipa.tech/v1/onchain/transfers?customer_id=cus_abc123&direction=inbound" \
  -H "X-API-Key: bipa_prod_..."

# Filter by asset and status
curl "https://api.bipa.tech/v1/onchain/transfers?asset=USDT&status=confirmed" \
  -H "X-API-Key: bipa_prod_..."
```

```python Python
import requests

# List all pending inbound transfers
response = requests.get(
    "https://api.bipa.tech/v1/onchain/transfers",
    headers={"X-API-Key": "bipa_prod_..."},
    params={
        "direction": "inbound",
        "status": "processing",
        "limit": 50
    }
)

result = response.json()
print(f"Found {result['total_count']} pending inbound transfers")

for transfer in result["data"]:
    decimals = transfer['decimals']
    amount = int(transfer['amount_net']) / 10**decimals
    print(f"  {transfer['id']}: {amount} {transfer['asset']} "
          f"({transfer['confirmations']}/{transfer['confirmations_required']})")
```

```javascript Node.js
// List confirmed outbound transfers this month
const startOfMonth = new Date();
startOfMonth.setDate(1);
startOfMonth.setHours(0, 0, 0, 0);

const params = new URLSearchParams({
  direction: "outbound",
  status: "confirmed",
  created_after: startOfMonth.toISOString(),
  limit: "100"
});

const response = await fetch(
  `https://api.bipa.tech/v1/onchain/transfers?${params}`,
  {
    headers: { "X-API-Key": "bipa_prod_..." }
  }
);

const { data: transfers, total_count } = await response.json();
console.log(`${total_count} outbound transfers this month`);
```
</RequestExample>

<ResponseExample>
```json 200 OK
{
  "object": "list",
  "data": [
    {
      "id": "txn_abc123",
      "customer_id": "cus_a1b2c3d4e5f6",
      "direction": "inbound",
      "asset": "USDT",
      "network": "polygon",
      "amount_gross": "100000000",
      "amount_net": "100000000",
      "fee": "0",
      "decimals": 6,
      "status": "confirmed",
      "address": "0x1234567890abcdef1234567890abcdef12345678",
      "tx_hash": "0xabcdef...",
      "confirmations": 128,
      "confirmations_required": 128,
      "created_at": "2024-01-15T10:30:00Z",
      "confirmed_at": "2024-01-15T10:35:00Z"
    },
    {
      "id": "txn_xyz789",
      "customer_id": "cus_a1b2c3d4e5f6",
      "direction": "outbound",
      "asset": "BTC",
      "network": "bitcoin",
      "amount_gross": "1005000",
      "amount_net": "1000000",
      "fee": "5000",
      "decimals": 8,
      "status": "confirmed",
      "destination_address": "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",
      "tx_hash": "abc123def...",
      "confirmations": 6,
      "confirmations_required": 3,
      "created_at": "2024-01-14T15:00:00Z",
      "confirmed_at": "2024-01-14T16:00:00Z"
    }
  ],
  "has_more": true,
  "total_count": 89
}
```
</ResponseExample>

## Analytics example

Calculate total inbound and outbound volumes:

```python
from collections import defaultdict

def get_transfer_summary(customer_id: str = None, days: int = 30):
    """Get transfer volume summary."""

    from datetime import datetime, timedelta
    created_after = (datetime.now() - timedelta(days=days)).isoformat() + "Z"

    transfers = []
    starting_after = None

    # Fetch all transfers
    while True:
        params = {
            "status": "confirmed",
            "created_after": created_after,
            "limit": 100
        }
        if customer_id:
            params["customer_id"] = customer_id
        if starting_after:
            params["starting_after"] = starting_after

        response = requests.get(
            "https://api.bipa.tech/v1/onchain/transfers",
            headers={"X-API-Key": "bipa_prod_..."},
            params=params
        ).json()

        transfers.extend(response["data"])

        if not response["has_more"]:
            break
        starting_after = response["data"][-1]["id"]

    # Aggregate by direction and asset (using integers to avoid float issues)
    summary = defaultdict(lambda: defaultdict(int))

    for transfer in transfers:
        asset = transfer["asset"]
        direction = transfer["direction"]
        decimals = transfer["decimals"]
        amount_net = int(transfer["amount_net"])
        amount_gross = int(transfer["amount_gross"])

        summary[asset][f"{direction}_volume_net"] += amount_net
        summary[asset][f"{direction}_volume_gross"] += amount_gross
        summary[asset][f"{direction}_count"] += 1
        summary[asset]["decimals"] = decimals  # Store for display

        if direction == "outbound":
            summary[asset]["total_fees"] += int(transfer.get("fee", 0))

    return dict(summary)

# Generate report
summary = get_transfer_summary(days=30)
for asset, stats in summary.items():
    decimals = stats.get("decimals", 6)
    divisor = 10 ** decimals
    print(f"\n{asset}:")
    print(f"  Inbound: {stats.get('inbound_count', 0)} transfers ({stats.get('inbound_volume_net', 0) / divisor:.{decimals}f})")
    print(f"  Outbound: {stats.get('outbound_count', 0)} transfers ({stats.get('outbound_volume_net', 0) / divisor:.{decimals}f})")
    print(f"  Total fees paid: {stats.get('total_fees', 0) / divisor:.{decimals}f}")
```
