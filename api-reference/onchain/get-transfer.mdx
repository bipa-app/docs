---
title: "Get Transfer"
description: "Retrieve details of an on-chain transfer."
api: "GET https://api.bipa.app/v1/onchain/transfers/{transfer_id}"
---

## Request

Retrieve details for a specific on-chain transfer (deposit or withdrawal).

### Path parameters

<ParamField path="transfer_id" type="string" required>
  The unique transfer identifier (e.g., `txn_abc123` or `wd_xyz789`)
</ParamField>

## Response

Returns the full transfer object.

<ResponseField name="id" type="string">
  Unique transfer identifier
</ResponseField>

<ResponseField name="customer_id" type="string">
  Customer who owns the transfer
</ResponseField>

<ResponseField name="type" type="string">
  `deposit` or `withdrawal`
</ResponseField>

<ResponseField name="asset" type="string">
  Asset (`USDT` or `BTC`)
</ResponseField>

<ResponseField name="network" type="string">
  Blockchain network
</ResponseField>

<ResponseField name="amount" type="string">
  Transfer amount
</ResponseField>

<ResponseField name="fee" type="string">
  Network fee (for withdrawals)
</ResponseField>

<ResponseField name="status" type="string">
  `pending`, `processing`, `confirmed`, `failed`
</ResponseField>

<ResponseField name="address" type="string">
  Deposit address (for deposits)
</ResponseField>

<ResponseField name="destination_address" type="string">
  Recipient address (for withdrawals)
</ResponseField>

<ResponseField name="tx_hash" type="string">
  Blockchain transaction hash
</ResponseField>

<ResponseField name="confirmations" type="integer">
  Current number of confirmations
</ResponseField>

<ResponseField name="confirmations_required" type="integer">
  Required confirmations for completion
</ResponseField>

<ResponseField name="failure_reason" type="string">
  Error details if status is `failed`
</ResponseField>

<ResponseField name="created_at" type="string">
  ISO 8601 timestamp
</ResponseField>

<ResponseField name="confirmed_at" type="string">
  ISO 8601 confirmation timestamp
</ResponseField>

<RequestExample>
```bash cURL
curl https://api.bipa.app/v1/onchain/transfers/txn_abc123 \
  -H "Authorization: Bearer sk_live_..."
```

```python Python
import requests

response = requests.get(
    "https://api.bipa.app/v1/onchain/transfers/txn_abc123",
    headers={"Authorization": "Bearer sk_live_..."}
)

transfer = response.json()
print(f"Transfer {transfer['id']}: {transfer['status']}")
print(f"Confirmations: {transfer['confirmations']}/{transfer['confirmations_required']}")
```

```javascript Node.js
const response = await fetch(
  "https://api.bipa.app/v1/onchain/transfers/txn_abc123",
  {
    headers: { "Authorization": "Bearer sk_live_..." }
  }
);

const transfer = await response.json();
console.log(`Transfer ${transfer.id}: ${transfer.status}`);
console.log(`Confirmations: ${transfer.confirmations}/${transfer.confirmations_required}`);
```
</RequestExample>

<ResponseExample>
```json 200 OK - Confirmed Deposit
{
  "id": "txn_abc123",
  "customer_id": "cus_a1b2c3d4e5f6",
  "type": "deposit",
  "asset": "USDT",
  "network": "polygon",
  "amount": "100.00",
  "fee": "0.00",
  "status": "confirmed",
  "address": "0x1234567890abcdef1234567890abcdef12345678",
  "tx_hash": "0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890",
  "confirmations": 128,
  "confirmations_required": 128,
  "created_at": "2024-01-15T10:30:00Z",
  "confirmed_at": "2024-01-15T10:35:00Z"
}
```

```json 200 OK - Pending Deposit
{
  "id": "txn_def456",
  "customer_id": "cus_a1b2c3d4e5f6",
  "type": "deposit",
  "asset": "BTC",
  "network": "bitcoin",
  "amount": "0.05000000",
  "fee": "0.00",
  "status": "processing",
  "address": "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",
  "tx_hash": "abc123def456789abc123def456789abc123def456789abc123def456789abcd",
  "confirmations": 1,
  "confirmations_required": 3,
  "created_at": "2024-01-15T10:30:00Z"
}
```

```json 200 OK - Completed Withdrawal
{
  "id": "wd_xyz789",
  "customer_id": "cus_a1b2c3d4e5f6",
  "type": "withdrawal",
  "asset": "USDT",
  "network": "polygon",
  "amount": "100.00",
  "fee": "0.50",
  "status": "confirmed",
  "destination_address": "0xabcdef1234567890abcdef1234567890abcdef12",
  "tx_hash": "0x9876543210fedcba9876543210fedcba9876543210fedcba9876543210fedcba",
  "confirmations": 128,
  "confirmations_required": 128,
  "idempotency_key": "wd_unique_456",
  "created_at": "2024-01-15T10:30:00Z",
  "confirmed_at": "2024-01-15T10:32:00Z"
}
```

```json 404 Not Found
{
  "error": {
    "type": "invalid_request_error",
    "code": "transfer_not_found",
    "message": "No transfer found with ID txn_abc123"
  }
}
```
</ResponseExample>

## Tracking confirmations

For pending deposits, you can poll the status or use webhooks:

```python
import time

def wait_for_confirmation(transfer_id: str, timeout: int = 3600):
    """Wait for a transfer to be confirmed."""
    start_time = time.time()

    while time.time() - start_time < timeout:
        response = requests.get(
            f"https://api.bipa.app/v1/onchain/transfers/{transfer_id}",
            headers={"Authorization": "Bearer sk_live_..."}
        )

        transfer = response.json()

        if transfer["status"] == "confirmed":
            return transfer

        if transfer["status"] == "failed":
            raise Exception(f"Transfer failed: {transfer.get('failure_reason')}")

        # Show progress
        print(f"Confirmations: {transfer['confirmations']}/{transfer['confirmations_required']}")

        time.sleep(30)  # Check every 30 seconds

    raise Exception("Timeout waiting for confirmation")
```

<Tip>
  Using webhooks is more efficient than polling. Subscribe to `onchain.deposit.confirmed` and `onchain.withdrawal.completed` events.
</Tip>

