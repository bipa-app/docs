---
title: "List Trades"
description: "List all trades with pagination and filtering."
api: "GET https://api.bipa.app/v1/trades"
---

## Request

Retrieve a paginated list of trades.

### Query parameters

<ParamField query="limit" type="integer" default="20">
  Number of trades to return (1-100)
</ParamField>

<ParamField query="starting_after" type="string">
  Cursor for pagination. Use the `id` of the last trade.
</ParamField>

<ParamField query="ending_before" type="string">
  Cursor for reverse pagination.
</ParamField>

<ParamField query="customer_id" type="string">
  Filter by customer
</ParamField>

<ParamField query="pair" type="string">
  Filter by trading pair (e.g., `BRL-USDT`)
</ParamField>

<ParamField query="side" type="string">
  Filter by side: `buy` or `sell`
</ParamField>

<ParamField query="status" type="string">
  Filter by status: `pending`, `completed`, `failed`, `cancelled`
</ParamField>

<ParamField query="created_after" type="string">
  Filter trades created after this ISO 8601 timestamp
</ParamField>

<ParamField query="created_before" type="string">
  Filter trades created before this ISO 8601 timestamp
</ParamField>

## Response

<ResponseField name="object" type="string">
  Always `list`
</ResponseField>

<ResponseField name="data" type="array">
  Array of trade objects
</ResponseField>

<ResponseField name="has_more" type="boolean">
  Whether more results exist
</ResponseField>

<ResponseField name="total_count" type="integer">
  Total number of trades matching filters
</ResponseField>

<RequestExample>
```bash cURL
# List all trades
curl "https://api.bipa.app/v1/trades?limit=20" \
  -H "Authorization: Bearer sk_live_..."

# Filter by customer and pair
curl "https://api.bipa.app/v1/trades?customer_id=cus_abc123&pair=BRL-USDT" \
  -H "Authorization: Bearer sk_live_..."

# Get completed trades from last month
curl "https://api.bipa.app/v1/trades?status=completed&created_after=2024-01-01T00:00:00Z" \
  -H "Authorization: Bearer sk_live_..."
```

```python Python
import requests

# List completed trades for a customer
response = requests.get(
    "https://api.bipa.app/v1/trades",
    headers={"Authorization": "Bearer sk_live_..."},
    params={
        "customer_id": "cus_a1b2c3d4e5f6",
        "status": "completed",
        "limit": 50
    }
)

result = response.json()
print(f"Found {result['total_count']} completed trades")

# Calculate total volume
total_brl = sum(
    t["from_amount_cents"]
    for t in result["data"]
    if t["from_currency"] == "BRL"
)
print(f"Total BRL volume: R$ {total_brl / 100:,.2f}")
```

```javascript Node.js
// List recent trades
const params = new URLSearchParams({
  limit: "50",
  status: "completed",
  created_after: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()
});

const response = await fetch(
  `https://api.bipa.app/v1/trades?${params}`,
  {
    headers: { "Authorization": "Bearer sk_live_..." }
  }
);

const { data: trades, total_count, has_more } = await response.json();
console.log(`Found ${total_count} trades in the last 30 days`);
```
</RequestExample>

<ResponseExample>
```json 200 OK
{
  "object": "list",
  "data": [
    {
      "id": "trd_abc123xyz",
      "customer_id": "cus_a1b2c3d4e5f6",
      "pair": "BRL-USDT",
      "side": "buy",
      "status": "completed",
      "from_currency": "BRL",
      "to_currency": "USDT",
      "from_amount_cents": 100000,
      "to_amount": "163.12",
      "executed_rate": "6.1305",
      "fee_cents": 500,
      "created_at": "2024-01-15T10:30:00Z",
      "completed_at": "2024-01-15T10:30:01Z"
    },
    {
      "id": "trd_def456abc",
      "customer_id": "cus_a1b2c3d4e5f6",
      "pair": "BRL-BTC",
      "side": "buy",
      "status": "completed",
      "from_currency": "BRL",
      "to_currency": "BTC",
      "from_amount_cents": 500000,
      "to_amount": "0.00234567",
      "executed_rate": "213150.00",
      "fee_cents": 2500,
      "created_at": "2024-01-14T15:00:00Z",
      "completed_at": "2024-01-14T15:00:01Z"
    }
  ],
  "has_more": true,
  "total_count": 347
}
```
</ResponseExample>

## Analytics example

Generate a trading summary report:

```python
from collections import defaultdict
from datetime import datetime, timedelta

def get_trading_summary(customer_id: str, days: int = 30):
    """Generate a trading summary for a customer."""

    created_after = (datetime.now() - timedelta(days=days)).isoformat() + "Z"
    trades = []
    starting_after = None

    # Fetch all trades
    while True:
        params = {
            "customer_id": customer_id,
            "status": "completed",
            "created_after": created_after,
            "limit": 100
        }
        if starting_after:
            params["starting_after"] = starting_after

        response = requests.get(
            "https://api.bipa.app/v1/trades",
            headers={"Authorization": "Bearer sk_live_..."},
            params=params
        ).json()

        trades.extend(response["data"])

        if not response["has_more"]:
            break
        starting_after = response["data"][-1]["id"]

    # Aggregate by pair
    summary = defaultdict(lambda: {
        "count": 0,
        "volume_brl": 0,
        "fees_brl": 0
    })

    for trade in trades:
        pair = trade["pair"]
        summary[pair]["count"] += 1

        if trade["from_currency"] == "BRL":
            summary[pair]["volume_brl"] += trade["from_amount_cents"]
        elif trade["to_currency"] == "BRL":
            summary[pair]["volume_brl"] += trade["to_amount_cents"]

        summary[pair]["fees_brl"] += trade["fee_cents"]

    return dict(summary)

# Generate report
summary = get_trading_summary("cus_abc123", days=30)
for pair, stats in summary.items():
    print(f"{pair}:")
    print(f"  Trades: {stats['count']}")
    print(f"  Volume: R$ {stats['volume_brl']/100:,.2f}")
    print(f"  Fees: R$ {stats['fees_brl']/100:,.2f}")
```

